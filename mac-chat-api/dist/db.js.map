{"version":3,"sources":["../src/db.js"],"names":["db","connect","mongoUrl","err","database","console","log","process","exit","callback"],"mappings":";;;;;;AAAA;;;;AACA;;;;AACA;;;;;;kBAEe,oBAAY;AACzB,MAAIA,WAAJ;AACA;AACA,qBAASC,OAAT,CAAiB,iBAAOC,QAAxB,EAAkC,UAAUC,GAAV,EAAeC,QAAf,EAAyB;AACzD,QAAID,GAAJ,EAAS;AACPE,cAAQC,GAAR,CAAYH,GAAZ;AACAI,cAAQC,IAAR,CAAa,CAAb;AACD;AACDH,YAAQC,GAAR,CAAY,iBAAOJ,QAAnB;AACA;AACAF,SAAKI,QAAL;AACAC,YAAQC,GAAR,CAAY,2BAAZ;AACAG,aAAST,EAAT;AACD,GAVD;AAWD,C","file":"db.js","sourcesContent":["import mongoose from 'mongoose';\nimport mongodb from 'mongodb';\nimport config from './config';\n\nexport default callback => {\n  let db;\n  // Connect to the database before starting the application server.\n  mongoose.connect(config.mongoUrl, function (err, database) {\n    if (err) {\n      console.log(err);\n      process.exit(1);\n    }\n    console.log(config.mongoUrl);\n    // Save database object from the callback for reuse.\n    db = database;\n    console.log(\"Database connection ready\");\n    callback(db);\n  });\n}\n"]}